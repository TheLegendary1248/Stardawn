(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();const x=5;console.log(x);class M extends Pts.CanvasSpace{translate(o,a){return this._ctx.translate(o,a)}}var u=Engine.create();u.gravity.scale=0;let w=document.getElementById("canvas-renderer"),n=new M("#canvas-renderer",O),i=Render.create({canvas:w,engine:u,options:{background:"#fff",hasBounds:!1}}),h=new Pts.Pt(0,0),p=new Pts.Pt,c=new Pts.Pt(0,0);console.log(w);let m=100;function C(){m>0&&(Engine.update(u,1e3/60),console.log("Running Physics"),m--)}let l=new Pts.CanvasForm(n);n.background="#0001";function O(){console.log(l),console.log(l.ctx),l.arc(new Pts.Pt([30,30]),40,79,189,!1),n.autoResize=!0,n.add({animate:(t,o)=>{C(),n.ctx.globalCompositeOperation,n.ctx.globalCompositeOperation="source-in",n.clear(),l.composite(),n.translate(n.width/2,n.height/2),p=Pts.Geom.interpolate(p,h,Math.min(o*6/1e3,1)),n.translate(p.x,p.y),l.fillOnly("#112").circle(Pts.Circle.fromCenter([0,0],516)),l.strokeOnly("#fff",3).dash(!0,t/200).point(c,16,"circle"),l.fillOnly("#f00").point(c,3,"circle"),n.ctx.scale(1,1),l.dash(!1).fill("#f00").stroke("#450",4),CustomWorldRender(i,t)},action:(t,o,a,s)=>{if(inlog(s),s.type&&t=="keydown"){var e=r=>{h.add(r),console.log(r)};switch(s.key){case"w":case"ArrowUp":e([0,10]);break;case"a":case"ArrowLeft":e([10,0]);break;case"s":case"ArrowDown":e([0,-10]);break;case"d":case"ArrowRight":e([-10,0]);break;case" ":B();break}}t=="drag"&&h.add([s.movementX,s.movementY]),t=="click"&&(c=new Pts.Pt([o-n.width/2,a-n.height/2]).$subtract(h),c.x|=0,c.y|=0),console.log(t,o,a,s)}}),n.bindMouse().bindTouch().bindKeyboard().play()}var b=(t,o)=>Bodies.fromVertices(t,o,Matter.Vertices.create([{x:0,y:30},{x:15,y:-15},{x:-15,y:-15}]),{render:{fillStyle:"#f00"}}),d=b(-200,-200);d.label="Moron";d.oncollide=v;var f=b(200,200);f.label="Moron";f.oncollide=v;var P=[];function v(){console.log("HEY ME")}for(var y=0;y<40;y++)P.push(Bodies.circle(Math.random()*1e3-500,Math.random()*1e3-500,Math.random()*40+10));Composite.add(u.world,[...P,d,f]);Events.on(u,"collisionStart",function(t){for(var o=t.pairs,a=0;a<o.length;a++){var s=o[a],e=s.bodyA,r=s.bodyB;e.oncollide&&e.oncollide(),r.oncollide&&r.oncollide()}});function B(){Body.applyForce(d,d.position,Vector.mult(Vector.sub(c,d.position),1e-5)),Body.applyForce(f,f.position,Vector.mult(Vector.sub(c,f.position),1e-5)),m=60}function S(){var t=window.innerHeight,o=window.innerWidth;i.bounds.max.y=800*(Math.max(o,t)/o),i.bounds.max.x=800*(Math.max(o,t)/t),i.bounds.min=Vector.create(0,0),Bounds.shift(i.bounds,Vector.create(0,0)),console.log(`${o}/${t}`),i.options.width=o,i.options.height=t,i.canvas.width=o,i.canvas.height=t}S();
